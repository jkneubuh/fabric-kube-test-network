
#
# Copyright contributors to the Hyperledger Fabric Operator project
#
# SPDX-License-Identifier: Apache-2.0
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at:
#
# 	  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - registry-ns.yaml
  - registry-pvc.yaml
  - registry-deployment.yaml
  - registry-service.yaml
  - registry-ingress.yaml
  - local-registry-hosting-cm.yaml




# todo: questions
# -  nginx payload size
# - don't pin controller-1.2
#

# - ?
#  # Document the local registry
#  # https://github.com/kubernetes/enhancements/tree/master/keps/sig-cluster-lifecycle/generic/1755-communicating-a-local-registry
#  cat <<EOF | kubectl apply -f -
#---
#apiVersion: v1
#kind: ConfigMap
#metadata:
#  name: local-registry-hosting
#  namespace: kube-public
#data:
#  localRegistryHosting.v1: |
#    host: "localhost:${CONTAINER_REGISTRY_PORT}"
#    help: "https://kind.sigs.k8s.io/docs/user/local-registry/"
#  EOF
#